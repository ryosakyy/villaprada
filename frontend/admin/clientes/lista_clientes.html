<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <title>Gestión de Clientes - Villa Prada</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="/assets/css/global.css" />
    <link rel="stylesheet" href="/assets/css/sideb<zar.css" />
    <link rel="stylesheet" href="/assets/css/admin.css" />
    <link rel="stylesheet" href="/assets/css/cliente.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>

<body>
    <div id="sidebar-container"></div>

    <div class="main-content">
        <div id="navbar-container"></div>

        <div class="page-wrap">
            <div class="page-header">
                <h2 class="page-title">Gestión de Clientes</h2>
                <p class="page-subtitle">Registrar y validar clientes mediante RENIEC</p>
            </div>

            <div class="clientes-grid">
                <!-- RENIEC -->
                <section class="card">
                    <div class="card-head">
                        <h3>Validar Identidad - RENIEC</h3>
                    </div>

                    <div class="reniec-badge">
                        <div class="reniec-circle">ID</div>
                    </div>

                    <div class="form-row">
                        <label for="dni_reniec">DNI del Cliente:</label>

                        <div class="dni-inline">
                            <input id="dni_reniec" type="text" inputmode="numeric" maxlength="8" placeholder="Ingrese el número de DNI (8 dígitos)" />
                            <button id="btn_validar" class="btn btn-blue" type="button">Validar</button>
                        </div>

                        <div id="reniec_msg" class="hint warn">
                            <i class="fa-solid fa-triangle-exclamation"></i> Debe validar el DNI antes de registrar al cliente. El sistema recuperará automáticamente los datos oficiales.
                        </div>

                        <div id="reniec_ok" class="hint info" style="display:none;"></div>
                        <div id="reniec_err" class="hint danger" style="display:none;"></div>
                    </div>
                </section>

                <!-- FORM REGISTRO -->
                <section class="card">
                    <div class="card-head">
                        <h3>Registrar Cliente</h3>
                    </div>

                    <div id="form_block_msg" class="hint info">
                        <i class="fa-solid fa-circle-info"></i> Complete la validación RENIEC para habilitar este formulario
                    </div>

                    <form id="form_cliente" class="form-vertical">
                        <div class="form-group">
                            <label for="dni">DNI:</label>
                            <input id="dni" type="text" readonly placeholder="(Se completa automáticamente)" />
                        </div>

                        <div class="form-group">
                            <label for="nombres">Nombres:</label>
                            <input id="nombres" type="text" disabled placeholder="(Datos de RENIEC)" />
                        </div>

                        <div class="form-group">
                            <label for="apellidos">Apellidos:</label>
                            <input id="apellidos" type="text" disabled placeholder="(Datos de RENIEC)" />
                        </div>

                        <div class="form-group">
                            <label for="telefono">Teléfono:</label>
                            <input id="telefono" type="text" disabled placeholder="Ingrese número de contacto" />
                        </div>

                        <div class="form-group">
                            <label for="email">Correo:</label>
                            <input id="email" type="email" disabled placeholder="Ingrese correo" />
                        </div>

                        <div class="form-actions">
                            <button id="btn_cancelar" class="btn btn-ghost" type="button" disabled>Cancelar</button>
                            <button id="btn_registrar" class="btn btn-blue" type="submit" disabled>Registrar Cliente</button>
                        </div>
                    </form>
                </section>
            </div>

            <!-- TABLA -->
            <section class="card mt-18">
                <div class="card-head">
                    <h3>Clientes Registrados</h3>
                </div>

                <div class="table-tools">
                    <div class="search-mini">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <input type="text" id="buscador" placeholder="Buscar por nombre o DNI..." />
                    </div>
                </div>

                <div class="table-wrap">
                    <table class="tabla tabla-clientes">
                        <thead>
                            <tr>
                                <th>DNI</th>
                                <th>Nombres y Apellidos</th>
                                <th>Teléfono</th>
                                <th>Correo</th>
                                <th>Estado RENIEC</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="tabla-clientes">
                            <tr>
                                <td colspan="6" class="empty">Cargando...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

        </div>
    </div>

    <script src="/assets/js/auth.js"></script>
    <script src="/assets/js/layout_loader.js"></script>
    <script src="/assets/js/clientes.js"></script>
</body>

</html>